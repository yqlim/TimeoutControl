/*!
 * TimeoutControl
 * (c) 2019 Yong Quan Lim
 * Released under MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).TimeoutControl=e()}(this,function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(){function e(t,i){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a="Failed to create TimeoutControl instance:";if(arguments.length<2)throw new TypeError("".concat(a," at least 2 arguments required, only ").concat(arguments.length," supplied."));if("function"!=typeof t)throw new TypeError("".concat(a," first argument must be a function."));if("number"!=typeof i)throw new TypeError("".concat(a," second argument must be a number greater than 0."));if(i<0)throw new RangeError("".concat(a," second argument must be a number greater than 0."));this.params=r,this.duration=i,this.timeStart=Date.now(),this.timeStop=this.timeStart,this.callback=function(t){t.apply(null,this.params),this.timeStop=Date.now()}.bind(this,t),Object.defineProperty(this,"timeLeft",{get:function(){var t=this.duration-(this.timeStop-this.timeStart);return t<0?0:t}}),Object.defineProperty(this,"done",{get:function(){return 0===this.timeLeft}}),this.id=setTimeout(this.callback,this.duration)}var i,n,r;return i=e,(n=[{key:"pause",value:function(){clearTimeout(this.id),this.timeStop=Date.now()}},{key:"resume",value:function(){this.id=setTimeout(this.callback,this.timeLeft)}},{key:"clear",value:function(){clearTimeout(this.id),this.timeStart=Date.now(),this.timeStop=this.timeStart,this.id=null}},{key:"restart",value:function(){this.clear(),this.id=setTimeout(this.callback,this.duration)}}])&&t(i.prototype,n),r&&t(i,r),e}()});